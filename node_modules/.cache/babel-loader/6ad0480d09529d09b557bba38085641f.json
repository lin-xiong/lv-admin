{"remainingRequest":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/src/components/page/ShopList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/src/components/page/ShopList.vue","mtime":1604901938636},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { shopListData } from \"../../api/index\";\nimport { shopEditData } from \"../../api/index\";\nimport { shopSearchData } from \"../../api/index\";\nimport { shopAddData } from \"../../api/index\";\nexport default {\n  name: 'shopList',\n  data: function data() {\n    return {\n      query: {\n        pageIndex: 1,\n        pageSize: 10\n      },\n      tableData: [],\n      multipleSelection: [],\n      delList: [],\n      editVisible: false,\n      addVisible: false,\n      pageTotal: 0,\n      editShopform: {},\n      addShopform: {},\n      form: {},\n      idx: -1,\n      id: -1\n    };\n  },\n  created: function created() {\n    this.getData();\n  },\n  methods: {\n    // 获取 easy-mock 的模拟数据\n    getData: function getData() {\n      var _this = this;\n\n      shopListData(this.query).then(function (res) {\n        console.log(res);\n        _this.tableData = res.data;\n        _this.pageTotal = res.pageTotal;\n      });\n    },\n    // 触发搜索按钮\n    handleSearch: function handleSearch() {\n      var _this2 = this;\n\n      this.$set(this.query, 'pageIndex', 1);\n      shopSearchData(this.query).then(function (res) {\n        console.log(res);\n        _this2.tableData = res.data;\n        _this2.pageTotal = res.pageTotal;\n      });\n    },\n    // 删除操作\n    handleDelete: function handleDelete(index, row) {\n      var _this3 = this;\n\n      // 二次确认删除\n      this.$confirm('确定要删除吗？', '提示', {\n        type: 'warning'\n      }).then(function () {\n        _this3.$message.success('删除成功');\n\n        _this3.tableData.splice(index, 1);\n      }).catch(function () {});\n    },\n    // 多选操作\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    delAllSelection: function delAllSelection() {\n      var length = this.multipleSelection.length;\n      var str = '';\n      this.delList = this.delList.concat(this.multipleSelection);\n\n      for (var i = 0; i < length; i++) {\n        str += this.multipleSelection[i].name + ' ';\n      }\n\n      this.$message.error(\"\\u5220\\u9664\\u4E86\".concat(str));\n      this.multipleSelection = [];\n    },\n    // 编辑操作\n    handleEdit: function handleEdit(index, row) {\n      this.idx = index;\n      this.editShopform = row;\n      this.editVisible = true;\n    },\n    // 保存编辑\n    saveEdit: function saveEdit() {\n      var _this4 = this;\n\n      shopEditData(this.editShopform).then(function (res) {\n        console.log(res);\n\n        if (res == 0) {\n          _this4.editVisible = false;\n\n          _this4.$message.success(\"\\u4FEE\\u6539\\u7B2C \".concat(_this4.idx + 1, \" \\u884C\\u6210\\u529F\"));\n\n          _this4.$set(_this4.tableData, _this4.idx, _this4.editShopform);\n        } else {\n          _this4.$message.error('修改出错！');\n\n          console.log('error edit shop!!');\n          return false;\n        }\n      });\n    },\n    handleAdd: function handleAdd() {\n      this.addVisible = true;\n    },\n    // 保存添加\n    saveAdd: function saveAdd() {\n      var _this5 = this;\n\n      shopAddData(this.addShopform).then(function (res) {\n        console.log(res);\n\n        if (res >= 1) {\n          _this5.addVisible = false;\n\n          _this5.$message.success(\"\\u589E\\u52A0\\u5546\\u94FA\\u6210\\u529F\");\n\n          _this5.getData();\n        } else {\n          _this5.$message.error('增加商铺出错！');\n\n          console.log('error add shop!!');\n          return false;\n        }\n      });\n    },\n    // 分页导航\n    handlePageChange: function handlePageChange(val) {\n      var _this6 = this;\n\n      this.$set(this.query, 'pageIndex', val);\n      shopSearchData(this.query).then(function (res) {\n        console.log(res);\n        _this6.tableData = res.data;\n        _this6.pageTotal = res.pageTotal;\n      });\n    },\n    formatCourierCount: function formatCourierCount(row, column) {\n      // 获取单元格数据\n      var data = row[column.property];\n      if (data == 0) return \"全部\";else return \"每区分配\" + data + \"个快递\";\n    }\n  }\n};",null]}