{"remainingRequest":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/src/components/common/Tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/src/components/common/Tags.vue","mtime":1588087010942},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport bus from \"./bus\";\nexport default {\n  data: function data() {\n    return {\n      tagsList: []\n    };\n  },\n  methods: {\n    isActive: function isActive(path) {\n      return path === this.$route.fullPath;\n    },\n    // 关闭单个标签\n    closeTags: function closeTags(index) {\n      var delItem = this.tagsList.splice(index, 1)[0];\n      var item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\n\n      if (item) {\n        delItem.path === this.$route.fullPath && this.$router.push(item.path);\n      } else {\n        this.$router.push('/');\n      }\n    },\n    // 关闭全部标签\n    closeAll: function closeAll() {\n      this.tagsList = [];\n      this.$router.push('/');\n    },\n    // 关闭其他标签\n    closeOther: function closeOther() {\n      var _this = this;\n\n      var curItem = this.tagsList.filter(function (item) {\n        return item.path === _this.$route.fullPath;\n      });\n      this.tagsList = curItem;\n    },\n    // 设置标签\n    setTags: function setTags(route) {\n      var isExist = this.tagsList.some(function (item) {\n        return item.path === route.fullPath;\n      });\n\n      if (!isExist) {\n        if (this.tagsList.length >= 8) {\n          this.tagsList.shift();\n        }\n\n        this.tagsList.push({\n          title: route.meta.title,\n          path: route.fullPath,\n          name: route.matched[1].components.default.name\n        });\n      }\n\n      bus.$emit('tags', this.tagsList);\n    },\n    handleTags: function handleTags(command) {\n      command === 'other' ? this.closeOther() : this.closeAll();\n    }\n  },\n  computed: {\n    showTags: function showTags() {\n      return this.tagsList.length > 0;\n    }\n  },\n  watch: {\n    $route: function $route(newValue, oldValue) {\n      this.setTags(newValue);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.setTags(this.$route); // 监听关闭当前页面的标签页\n\n    bus.$on('close_current_tags', function () {\n      for (var i = 0, len = _this2.tagsList.length; i < len; i++) {\n        var item = _this2.tagsList[i];\n\n        if (item.path === _this2.$route.fullPath) {\n          if (i < len - 1) {\n            _this2.$router.push(_this2.tagsList[i + 1].path);\n          } else if (i > 0) {\n            _this2.$router.push(_this2.tagsList[i - 1].path);\n          } else {\n            _this2.$router.push('/');\n          }\n\n          _this2.tagsList.splice(i, 1);\n\n          break;\n        }\n      }\n    });\n  }\n};",null]}