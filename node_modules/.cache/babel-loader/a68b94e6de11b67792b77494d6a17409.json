{"remainingRequest":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!/Users/leo/Documents/work/Code/GitHub/vue-manage-system/src/components/page/AddrList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/src/components/page/AddrList.vue","mtime":1605856336660},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leo/Documents/work/Code/GitHub/vue-manage-system/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { addrListData } from \"../../api/index\";\nimport { addrEditData } from \"../../api/index\";\nimport { addrSearchData } from \"../../api/index\";\nimport { addrAddData } from \"../../api/index\";\nimport { addrTestData } from \"../../api/index\";\nimport { regionListData } from \"../../api/index\";\nimport { shopListData } from \"../../api/index\";\nexport default {\n  name: 'addrList',\n  data: function data() {\n    return {\n      query: {\n        pageIndex: 1,\n        pageSize: 10\n      },\n      query1: {\n        count: 1\n      },\n      tableData: [],\n      multipleSelection: [],\n      delList: [],\n      editVisible: false,\n      addVisible: false,\n      pageTotal: 0,\n      editAddrform: {},\n      addAddrform: {},\n      multiRegion: [],\n      multiShop: [],\n      form: {},\n      idx: -1,\n      id: -1\n    };\n  },\n  created: function created() {\n    this.getData();\n  },\n  methods: {\n    // 获取 easy-mock 的模拟数据\n    getData: function getData() {\n      var _this = this;\n\n      regionListData().then(function (res) {\n        _this.multiRegion = res.region;\n        console.log(_this.multiRegion);\n      });\n      shopListData().then(function (res) {\n        console.log(res);\n        _this.multiShop = res.data;\n        var allshop = {\n          id: 0,\n          shopName: '全部'\n        };\n\n        _this.multiShop.splice(0, 0, allshop);\n      });\n      addrListData(this.query).then(function (res) {\n        console.log(res);\n        _this.tableData = res.data;\n        _this.pageTotal = res.pageTotal;\n      });\n    },\n    // 触发搜索按钮\n    handleSearch: function handleSearch() {\n      var _this2 = this;\n\n      this.$set(this.query, 'pageIndex', 1);\n      addrSearchData(this.query).then(function (res) {\n        console.log(res);\n        _this2.tableData = res.data;\n        _this2.pageTotal = res.pageTotal;\n      });\n    },\n    // 执行操作\n    handleExe: function handleExe(index, row) {\n      var _this3 = this;\n\n      // 二次确认执行\n      this.$confirm('确定要执行吗？', '提示', {\n        type: 'warning'\n      }).then(function (res) {\n        _this3.idx = index;\n        addrExeData(row).then(function (res) {\n          console.log(res);\n\n          if (res == 1) {\n            _this3.$message.success('执行成功');\n\n            row.status = 2;\n          }\n        });\n      }).catch(function () {});\n    },\n    // 测试操作\n    handleTest: function handleTest(index, row) {\n      var _this4 = this;\n\n      addrTestData(row).then(function (res) {\n        console.log(res);\n\n        _this4.$confirm('生成地址：' + res.data.addr, '提示', {\n          type: 'warning'\n        }).catch(function () {});\n      });\n    },\n    // 多选操作\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    // CreateAddrAllSelection(){ \n    //     this.$set(this.query1, 'addrs', this.multipleSelection);\n    //     addrCreateData(this.query1).then(res => {\n    //     });\n    //     this.multipleSelection = [];\n    // },\n    shengxiaoAllSelection: function shengxiaoAllSelection() {\n      var length = this.multipleSelection.length;\n      var str = ''; //this.delList = this.delList.concat(this.multipleSelection);\n      //console.log(this.delList);\n\n      for (var i = 0; i < length; i++) {\n        this.multipleSelection[i].status = 1;\n        addrEditData(this.multipleSelection[i]).then(function (res) {\n          //console.log(res);\n          if (res == 1) {//this.$message.error(`删除了${str}`);\n          }\n        });\n      }\n\n      this.multipleSelection = [];\n    },\n    delAllSelection: function delAllSelection() {\n      var length = this.multipleSelection.length;\n      var str = ''; //this.delList = this.delList.concat(this.multipleSelection);\n      //console.log(this.delList);\n\n      for (var i = 0; i < length; i++) {\n        this.multipleSelection[i].status = 0;\n        addrEditData(this.multipleSelection[i]).then(function (res) {\n          //console.log(res);\n          if (res == 1) {//this.$message.error(`删除了${str}`);\n          }\n        });\n      }\n\n      this.multipleSelection = [];\n    },\n    // 编辑操作\n    handleEdit: function handleEdit(index, row) {\n      this.idx = index;\n      this.editAddrform = row;\n      this.editVisible = true;\n    },\n    // 保存编辑\n    saveEdit: function saveEdit() {\n      var _this5 = this;\n\n      addrEditData(this.editAddrform).then(function (res) {\n        console.log(res);\n\n        if (res == 1) {\n          _this5.editVisible = false;\n\n          _this5.$message.success(\"\\u4FEE\\u6539\\u7B2C \".concat(_this5.idx + 1, \" \\u884C\\u6210\\u529F\"));\n\n          _this5.$set(_this5.tableData, _this5.idx, _this5.editAddrform);\n        } else {\n          _this5.$message.error('修改出错！');\n\n          console.log('error edit Addr!!');\n          return false;\n        }\n      });\n    },\n    handleAdd: function handleAdd() {\n      this.addVisible = true;\n    },\n    // 保存添加\n    saveAdd: function saveAdd() {\n      var _this6 = this;\n\n      addrAddData(this.addAddrform).then(function (res) {\n        console.log(res);\n\n        if (res == 1) {\n          _this6.addVisible = false;\n\n          _this6.$message.success(\"\\u589E\\u52A0Addr\\u6210\\u529F\");\n\n          _this6.getData();\n        } else {\n          _this6.$message.error('增加Addr出错！');\n\n          console.log('error add shop!!');\n          return false;\n        }\n      });\n    },\n    // 分页导航\n    handlePageChange: function handlePageChange(val) {\n      var _this7 = this;\n\n      this.$set(this.query, 'pageIndex', val);\n      addrSearchData(this.query).then(function (res) {\n        console.log(res);\n        _this7.tableData = res.data;\n        _this7.pageTotal = res.pageTotal;\n      });\n    },\n    formatDate: function formatDate(row, column) {\n      // 获取单元格数据\n      var data = row[column.property];\n\n      if (data == null) {\n        return null;\n      }\n\n      var dt = new Date(data);\n      return dt.getFullYear() + '-' + (dt.getMonth() + 1) + '-' + dt.getDate();\n    },\n    formatShopName: function formatShopName(row, column) {\n      // 获取单元格数据\n      var data = row[column.property];\n      if (this.multiShop == null) return null;\n\n      for (var i = 0; i < this.multiShop.length; i++) {\n        if (data == this.multiShop[i].id) return this.multiShop[i].shopName;\n      }\n    }\n  }\n};",null]}